<!DOCTYPE html>
<html>
  <head>
    <title>SPA Users</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="listaUtenti" class=""></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const API_BASE_URL = "https://orange-waffle-64wj497xw9rcqr6-3000.app.github.dev"
      const AUTH_TOKEN = "Bearer 5IDtoken"

      document.addEventListener("DOMContentLoaded", () => {
        leggiUtenti();
      })

      async function leggiUtenti() {
        const dati = await fetch(
          `${API_BASE_URL}/api/users`
        );
        const listaUtentiJSON = await dati.json();

        mostraUtenti(listaUtentiJSON);
      }

      function mostraUtenti(listaUtentiJSON) {
        const divListaUtenti = document.getElementById("listaUtenti");
        divListaUtenti.innerHTML =""

        for (const utente of listaUtentiJSON) {
          divListaUtenti.innerHTML += `
          <div>
            <h3>${utente.name}</h3>
            <p>${utente.age}</p>
            <button onclick="">Dettagli</button>
            <button onclick="">Modifica</button>
            <button onclick="">Elimina</button>
          </div>`;
        }
      }

    </script>
  </body>
</html>
